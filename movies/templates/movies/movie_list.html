{% extends 'base.html' %}
{% block css %}
.after_modal_appended
{  
  position:relative;
}

.red
{
  background-color:red;
  border: solid 10px;
}

.blue
{
  background-color:blue;
}

.block 
{
  width:100%;
  height:200px;
}

.modal, .modal-backdrop {
    position: absolute !important;
}


{% endblock css %}

{% block content %}



  <div class="container">
    <div class="row">
      {% for movie in movies %}
        <a href="{% url 'movies:detail' movie.pk %}">
        <div class="card col-3 p-0" id="b">
          
          <img src="http://image.tmdb.org/t/p/original/{{ movie.poster_url }}" id="a" class="card-img-top" alt="{{ movie.title }}포스터" height="100%"></a>
          
                 <!-- Modal -->
          <div id="myModal" class="modal fade" role="dialog">
            <div class="modal-dialog">

              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <h4 class="modal-title">Modal Header</h4>
                </div>
                <div class="modal-body">
                  <p>Some text in the modal.</p>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
              </div>

            </div>
          </div>
          
        </div>
      {% endfor %}
    </div>
  </div>



{% endblock content %}

{% block script %}
<script>
const selectedMovie = document.getElementById('a')
$(document).ready(function(){
	
 	$("body").on("click","selectedMovie",function(){
  	  	
    	$("#b").modal("show");
        
    	$(".blue").addClass("after_modal_appended");
    
    	//appending modal background inside the blue div
    	$('.modal-backdrop').appendTo('.blue');   
    
    	//remove the padding right and modal-open class from the body tag which bootstrap adds when a modal is shown
    
    	$('body').removeClass("modal-open")
   	 	$('body').css("padding-right","");     
  });

});
</script>
{% endblock script %}